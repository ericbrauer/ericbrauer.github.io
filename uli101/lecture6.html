<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 6: SSH, SCP, Mail, Networking Tools</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/eric.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 6: SSH, SCP, Mail, Networking Tools</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#knoppix">Knoppix</a></li>
<li><a href="#live-usb">Live USB</a></li>
<li><a href="#ssh">SSH</a></li>
<li><a href="#scp">SCP</a></li>
<li><a href="#mail">Mail</a></li>
<li><a href="#sftp">SFTP</a></li>
<li><a href="#other-networking-tools">Other Networking Tools</a></li>
<li><a href="#introduction-to-vim">Introduction to Vim</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#bonus-making-ssh-painless">BONUS: Making SSH Painless</a><ul>
<li><a href="#making-ssh-painless-with-putty">Making SSH Painless with PuTTY</a></li>
</ul></li>
</ul>
</nav>
<h1 id="knoppix">Knoppix</h1>
<p>Demo of starting Knoppix</p>
<p>To use Knoppix in the lab, find it in Program Files, then click on the .vbox file. None of the stuff you do here is persistent, so save all your work on Matrix.</p>
<h1 id="live-usb">Live USB</h1>
<p>There are many distros for Linux, some of them are <a href="https://www.techradar.com/news/13-weird-and-wonderful-niche-linux-distros-of-2017">very niche</a>. You can try any of these out without affecting your system configuration. Search for ‘Live USB Creator’, and you will many options for creating a Live USB. From here, you can reboot your computer, boot from the USB drive (you may need to change your BIOS settings to enable this), and follow the instructions. This can often be a simple solution if you aren’t used to setting up virtual machines.</p>
<p>What distro to choose? Here are a few of the common ones:</p>
<ul>
<li>Linux Mint (most popular)</li>
<li>Ubuntu (formerly most popular)</li>
<li>Fedora (maintained by Red Hat)</li>
<li>CentOS (this is what they learn on in OPS)</li>
</ul>
<p>Whatever you choose, you will still have many configuration options available to you. A Desktop Environment, for example, changes how your GUI looks. Ubuntu and Fedora both use GNOME 3, and as a result they look pretty similar by default. But you can easily play with Cinnamon, Plasma, Budgie, XFCE, etc.</p>
<h1 id="ssh">SSH</h1>
<p>Now that we are in Knoppix, I can show you how we would use our SSH command:</p>
<p><code>ssh &lt;user&gt;@matrix.senecacollege.ca</code></p>
<p>If this was my persistent system, I might generate a key-pair and then copy a public key to Matrix.</p>
<p>What is SSH? It stands for Secure SHell. In the past, we might have used a program like Telnet to log into our machine. Telnet is old, and insecure. At this point there is no reason to use it. With SSH, everything between your remote and local machine is encrypted. You can even use SSH as a ‘tunnel’, and manipulate programs with GUIs using SSH.</p>
<h1 id="scp">SCP</h1>
<p>Another important command to learn is SCP, which uses SSH for file transfers. Just like our <code>cp</code> command, we need to give it a target and a destination. The difference is that <em>one</em> or <em>both</em> of these paths is going to be remote, and so we need to provide more information.</p>
<p><code>scp &lt;target&gt; &lt;destination&gt;</code></p>
<p>So let’s say our target is remote, and our destination is local. I’m going to choose ‘frankenstein.txt’ as my target. I have access to my own account, so this should work.</p>
<p><code>scp eric.brauer@matrix.senecacollege.ca:~/frankenstein.txt ~</code></p>
<p>The syntax of the first argument is important. username@hostname<strong>:</strong>filepath. If you ever get confused, follow the same syntax you see on your command prompt.</p>
<p><code>eric@eric-eriga:~/uli/courseNotes$</code> – don’t include the <strong>$</strong>!</p>
<p>To transfer an entire directory, you will need the <code>-r</code> option! Let’s <em>push</em> a directory from Knoppix, rather than <em>pulling</em> a file this time.</p>
<p><code>scp -r /tmp eric.brauer@matrix.senecacollege.ca:~</code></p>
<p>Let’s take a look…</p>
<h1 id="mail">Mail</h1>
<p>If you go through the process of setting up <code>mail</code> on your system, you can send mail from the command line. More importantly, any scripts that you write can send out mail if your server encounters a problem.</p>
<p><code>mail recipent@hostname</code>, then enter subject and body of message. Or:</p>
<p><code>mail recipient@hostname -s "Subject" &lt; body-of-mail</code></p>
<p>You can also send mail to other users on Matrix:</p>
<p><code>mail recipient@localhost</code></p>
<h1 id="sftp">SFTP</h1>
<p>FTP is a protocol used for downloading files. It isn’t secure by default, so it’s been replaced by SFTP. SFTP uses SSL encryption.</p>
<p><code>sftp user@host</code>: to log in.</p>
<p><code>ls, pwd, etc</code>: to navigate <em>remotely</em>.</p>
<p><code>!ls, !pwd, etc.</code>: to navigate <em>locally</em>.</p>
<p><code>get filename, put filename</code>: to pull and push files.</p>
<p><code>Ctrl_d</code>: exits.</p>
<h1 id="other-networking-tools">Other Networking Tools</h1>
<p>Networking is something we sadly don’t cover enough of in this course. But here’s a quick crash course.</p>
<p><code>ip address</code>: Returns important information like your… ip address.</p>
<p><code>netstat</code>: Among other things, you can use it to see open ports on your system.</p>
<p><code>nslookup matrix.senecacollege.ca</code>: Returns IP from URL, and URL from IP address.</p>
<p><code>ping matrix.senecacollege.ca</code>: Ping is still the simplest way to start network troubleshooting.</p>
<p><code>wget &lt;url&gt;</code>: So whenever you have a link to file to download from a website, this command will download it to your current location. This is different from <code>scp</code>, because you don’t need any kind of credentials and you also can’t expect any encryption. But it’s useful if, say, you need to grab a driver or document online and you have the URL handy.</p>
<p><code>curl</code>: There are many ways to use curl, and too much to cover. But basically you can use it like wget, or to return HTTP assets. Or test a RESTful interface.</p>
<p>If you’d like to really dive into using curl, check out <a href="https://jvns.ca/blog/2019/08/27/curl-exercises/">this post</a> by Julia Evans.</p>
<hr />
<h1 id="introduction-to-vim">Introduction to Vim</h1>
<p>Whenever you want to edit text files and the job requires more than just <code>echo</code>, you will probably have a couple of options.</p>
<p>For quick simple jobs, try using <code>nano</code>. For more complex jobs, try using <code>vim</code>.</p>
<p>You’ll see references to both vi and vim. Vim stands for v(im)proved. Both are available to you on Matrix.</p>
<p>Vim is an extremely powerful text editor that can years to master. Some developers love Vim above and beyond all other IDEs and text editors. Everyone else will struggle to exit Vim…</p>
<figure>
<img src="https://pics.me.me/when-you-finally-exit-vim-you-know-im-something-of-31049412.png" alt="vim memes exist, you guys." /><figcaption>vim memes exist, you guys.</figcaption>
</figure>
<p>As part of Assignment #1, you are required to finish the Vim tutorial, which honestly does a very good job of showing you the basics.</p>
<p>In Vim, there are three important modes:</p>
<ul>
<li>Normal mode. This allows you to navigate and search. Pressing <strong>i</strong>, <strong>r</strong> or <strong>a</strong> will put you in:</li>
<li>Edit mode. Here’s where your letter keys are used to enter text. Press <strong>Escape</strong> to return to:</li>
<li>Normal mode. (Again). Once you are in normal mode, press <strong>:</strong> to enter:</li>
<li>Command mode. Here’s where you can enter <strong>x</strong> to save and quit, <strong>w</strong> to save, or <strong>q!</strong> to exit without saving. You can also change options here. Try entering command mode with <strong>:</strong> and type <code>colorscheme</code> then start hitting TAB. Hit Enter to try out a new color.</li>
</ul>
<p>Another important option is turning on line numbers. Try entering command mode again and type <code>set number</code>.</p>
<p>I recommend using a tool such as <a href="https://www.openvim.com">vimtutor</a> to get more comfortable with the basics.</p>
<p>Vim is a <em>necessary tool</em> when all else fails, and you should try to get a basic understanding of it. You certainly don’t have to love it, though! In addition, keep in mind that there are no questions about Vim on tests/quizzes.</p>
<hr />
<h1 id="summary">Summary</h1>
<ul>
<li><code>ssh user@host</code>: Logs into the remote server</li>
<li><code>scp &lt;target&gt; &lt;destination&gt;</code>: Transfer files securely. Use <code>-r</code> for directories. Use <code>user@host:filepath</code> for the remote file or directory.</li>
</ul>
<h1 id="bonus-making-ssh-painless">BONUS: Making SSH Painless</h1>
<p>“How do you log into Matrix so quickly?”</p>
<p>If you’ve noticed, I can log into Matrix by typing <code>ssh matrix</code>. There’s two parts to this:</p>
<p>First of all, I have an <em>alias</em> set up. This means that <code>matrix</code> == <code>eric.brauer@matrix.senecac.on.ca</code>. There are a couple ways to do this, but here’s one: In your home directory, there is a hidden directory called <code>.ssh</code>. You can create a file in <code>.ssh</code> called <code>config</code>.</p>
<p><code>cat ~/.ssh/config</code></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">host</span> matrix</a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="fu">hostname</span> matrix.senecacollege.ca</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="ex">user</span> eric.brauer</a></code></pre></div>
<p><strong>Be sure to test this</strong> by typing in <code>ssh matrix</code> and making sure that you get prompted for your password.</p>
<p>Now you can work on the next part, which is generating a private/public key pair. On Linux this is easy:</p>
<p><code>ssh-keygen</code></p>
<p>You will be prompted to set a location. Press Enter to accept the default. You will also be prompted to enter a passphrase, but that’s optional.</p>
<p>Once you generate the keypair, you will need to transfer your public key to Matrix. The command to do this:</p>
<p><code>ssh-copy-id matrix</code></p>
<p>If you checked your config file before, this should work. You will be prompted for your password for the last time..! Be sure to keep your private key secure, but now you should be able to log in much quicker.</p>
<h2 id="making-ssh-painless-with-putty">Making SSH Painless with PuTTY</h2>
<p>Putty will require a few more steps, including installing a separate program. Keep in mind that you will need to specify a safe location for your private key! These instructions should be more or less complete, but don’t attempt this if you have a looming deadline.</p>
<p><a href="https://www.ssh.com/ssh/putty/windows/puttygen">Generating an SSH key in PuTTY</a></p>
</body>
</html>
