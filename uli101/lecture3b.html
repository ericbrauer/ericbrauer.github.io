<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lecture 3B: History, Variables, Quotes</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/eric.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lecture 3B: History, Variables, Quotes</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#history-and-a-word-about-quotes">History and a Word About Quotes</a></li>
<li><a href="#review-the-three-types-of-filepaths">Review: The Three Types of Filepaths</a></li>
<li><a href="#sudo">Sudo</a></li>
<li><a href="#variables-and-quotes">Variables And Quotes</a></li>
<li><a href="#backstory-open-source-software-and-gpl-license">Backstory: Open Source Software and GPL License</a></li>
<li><a href="#the-gnu-general-public-license">The GNU General Public License</a></li>
<li><a href="#review-for-quiz-1">Review For Quiz 1</a></li>
</ul>
</nav>
<h2 id="history-and-a-word-about-quotes">History and a Word About Quotes</h2>
<p>So to review: we showed how you can use arrow keys to browse your history, and use Ctrl+r to search your history. So it shouldn’t a surprise to you that the commands you type in are saved. To view your complete history, you…. <code>history</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">2075</span>  ll</a>
<a class="sourceLine" id="cb1-2" title="2"> <span class="ex">2076</span>  cd courseNotes/</a>
<a class="sourceLine" id="cb1-3" title="3"> <span class="ex">2077</span>  ll</a>
<a class="sourceLine" id="cb1-4" title="4"> <span class="ex">2078</span>  rm friendly*</a>
<a class="sourceLine" id="cb1-5" title="5"> <span class="ex">2079</span>  head -3 Acceptable-Use-Policy </a>
<a class="sourceLine" id="cb1-6" title="6"> <span class="ex">2080</span>  tail -3 Acceptable-Use-Policy </a>
<a class="sourceLine" id="cb1-7" title="7"> <span class="ex">2081</span>  ll *.png</a>
<a class="sourceLine" id="cb1-8" title="8"> <span class="ex">2082</span>  ll *.jpg</a>
<a class="sourceLine" id="cb1-9" title="9"> <span class="ex">2083</span>  file lecture2a.md</a>
<a class="sourceLine" id="cb1-10" title="10"> <span class="ex">2084</span>  file lecture2a-nautilus.png </a>
<a class="sourceLine" id="cb1-11" title="11"> <span class="ex">2085</span>  cp lecture2a-nautilus.png test.txt</a></code></pre></div>
<p>you can call any of these commands using the <strong>!</strong> and the number from history:</p>
<p><code>!2079</code></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">head</span> -3 Acceptable-Use-Policy </a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="ex">--------------------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb2-4" title="4"> <span class="ex">Policy</span> :  Information Technology Acceptable Use</a></code></pre></div>
<p>Another incredibly useful shortcut is <code>!!</code>. This will repeat the last command you typed in. This doesn’t seem too useful until you start knowing something about permissions.</p>
<hr />
<h2 id="review-the-three-types-of-filepaths">Review: The Three Types of Filepaths</h2>
<ul>
<li><strong>Relative</strong>: This is a filepath that is <em>relative to your current location</em>. For example: <code>cd cambridge</code>, <code>cd ../gen_ed</code>.</li>
<li><strong>Relative-to_home</strong>: This is a filepath that is <em>relative to a home directory</em> (usually yours). For example: <code>cd ~/Documents</code>, <code>cd ~uli101/a1</code>.</li>
<li><strong>Absolute</strong>: This filepath isn’t <em>relative</em> to anything. It begins from root and never changes. For example: <code>cd /etc/shared</code>.</li>
</ul>
<p>Let’s assume that your filesystem looks like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="ex">/</span></a>
<a class="sourceLine" id="cb3-2" title="2">├── <span class="ex">etc</span></a>
<a class="sourceLine" id="cb3-3" title="3">│   ├── <span class="ex">network</span></a>
<a class="sourceLine" id="cb3-4" title="4">│   │   └── <span class="ex">interfaces</span></a>
<a class="sourceLine" id="cb3-5" title="5">│   └── <span class="ex">selinux</span></a>
<a class="sourceLine" id="cb3-6" title="6">│       └── <span class="ex">config</span></a>
<a class="sourceLine" id="cb3-7" title="7">├── <span class="ex">example.html</span></a>
<a class="sourceLine" id="cb3-8" title="8">├── <span class="ex">example.md</span></a>
<a class="sourceLine" id="cb3-9" title="9">├── <span class="ex">home</span></a>
<a class="sourceLine" id="cb3-10" title="10">│   └── <span class="ex">student</span></a>
<a class="sourceLine" id="cb3-11" title="11">│       ├── <span class="ex">Documents</span></a>
<a class="sourceLine" id="cb3-12" title="12">│       │   └── <span class="ex">resume.docx</span></a>
<a class="sourceLine" id="cb3-13" title="13">│       ├── <span class="ex">Music</span></a>
<a class="sourceLine" id="cb3-14" title="14">│       └── <span class="ex">Projects</span></a>
<a class="sourceLine" id="cb3-15" title="15">│           └── <span class="ex">Seneca</span></a>
<a class="sourceLine" id="cb3-16" title="16">│               └── <span class="ex">final-project.c</span></a>
<a class="sourceLine" id="cb3-17" title="17">└── <span class="ex">usr</span></a>
<a class="sourceLine" id="cb3-18" title="18">    └── <span class="bu">local</span></a>
<a class="sourceLine" id="cb3-19" title="19">        ├── <span class="ex">bin</span></a>
<a class="sourceLine" id="cb3-20" title="20">        │   └── <span class="ex">program.py</span></a>
<a class="sourceLine" id="cb3-21" title="21">        └── <span class="ex">lib</span></a>
<a class="sourceLine" id="cb3-22" title="22">            ├── <span class="ex">node</span></a>
<a class="sourceLine" id="cb3-23" title="23">            └── <span class="ex">python</span></a></code></pre></div>
<p>…and you are given a question such as this:</p>
<blockquote>
<p>You are logged in as Student. Your current location is <code>/usr/local/lib</code>. Copy <code>program.py</code> into the directory called <code>Seneca</code>.</p>
</blockquote>
<p>You will be required to use the shortest possible filepath for both the <em>target</em> and the <em>destination</em>.</p>
<p>Our target is <code>program.py</code>. Our current location (<code>.</code>) is <code>/usr/local/lib</code>. Our home (<code>~</code>) is <code>/home/student</code>. We have three possible filepaths.</p>
<h4 id="the-target">The Target</h4>
<ul>
<li><strong>Relative</strong>: start from current location and “travel” to the target. <code>..</code> gets us to /usr/local. <code>bin</code> gets us into the proper subdirectory. <code>program.py</code> identifies the target. So the relative path is: <code>../bin/program.py</code>. (3 steps).</li>
<li><strong>Relative-to-home</strong>: start from <code>~</code>. Unfortunately our target isn’t in a subdirectory of home, so this is going to get complicated! The relative-to-home path is: <code>~/../../usr/local/bin/program.py</code> (7 steps).</li>
<li><strong>Absolute</strong>: start from <code>/</code>. <code>usr</code> is a subdirectory of <code>/</code>. Then <code>bin</code> is a subdirectory of <code>usr</code>. So the absolute path is: <code>/usr/local/bin/python.py</code> (4 steps).</li>
</ul>
<p>We can see that the relative path is the shortest, most efficient path to <code>program.py</code>.</p>
<h4 id="the-destination">The Destination</h4>
<p>Again, for the destination we have three options.</p>
<ul>
<li><strong>Relative</strong>: start from our current location again. <code>../../..</code> gets us to root, so already we can see this isn’t a very efficient route. <code>home/student/Projects/Seneca</code> will get us to the destination. The complete relative path is <code>../../../home/student/Projects/Seneca</code> (7 steps).</li>
<li><strong>Relative-to-home</strong>: start from <code>~</code>. From here, we type <code>Projects</code> to get into a subdirectory, and <code>Seneca</code> is our destination. The relative-to-home filepath is <code>~/Projects/Seneca</code> (3 steps).</li>
<li><strong>Absolute</strong>: start from root (<code>/</code>). The absolute filepath is <code>/home/student/Projects/Seneca</code> (4 steps).</li>
</ul>
<p>So for the destination, we should use a relative-to-home filepath.</p>
<h4 id="putting-it-all-together">Putting It All Together</h4>
<p>Our answer for this question is: <code>cp ../bin/program.py ~/Projects/Seneca</code></p>
<hr />
<h2 id="sudo">Sudo</h2>
<p>So as a normal user, you don’t have permission to install applications or change much of the system configuration. This is because you don’t have <em>root privileges</em>. Oftentimes in the real world, you will type in a command, and have the shell tell you that permission denied. <code>sudo</code> is a command that invokes your root privileges for a command. So you have situations like this:</p>
<figure>
<img src="https://imgs.xkcd.com/comics/sandwich.png" alt="Relevant XKCD" /><figcaption>Relevant XKCD</figcaption>
</figure>
<p>This is a command to check for new software updates in Ubuntu:</p>
<p><code>apt update</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="ex">E</span>: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)</a></code></pre></div>
<p><code>sudo apt update</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">sudo</span> apt update</a>
<a class="sourceLine" id="cb5-2" title="2">[<span class="ex">sudo</span>] password for eric: </a>
<a class="sourceLine" id="cb5-3" title="3"><span class="ex">Hit</span>:2 http://ca.archive.ubuntu.com/ubuntu bionic InRelease                                                                                             Get:3 http://security.ubuntu.com/ubuntu bionic-security InRelease [83.2 kB]                                                                            Hit:4 http://archive.canonical.com/ubuntu wily InRelease                                                                                               Reading package lists... Done</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="ex">Building</span> dependency tree       </a>
<a class="sourceLine" id="cb5-5" title="5"><span class="ex">Reading</span> state information... Done</a>
<a class="sourceLine" id="cb5-6" title="6"><span class="ex">All</span> packages are up to date.</a></code></pre></div>
<p>Instead of typing in ‘apt update’ twice, the same thing can be accomplished with:</p>
<p><code>sudo !!</code></p>
<p>This isn’t too relevant for you yet, since in this course you won’t be given root privileges. But it’s a common issue with Linux users. And it will become relevant in the following situation:</p>
<p><code>echo "Hello User !!"</code></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="bu">echo</span> <span class="st">&quot;Hello User sudo apt update&quot;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="ex">Hello</span> User sudo apt update</a></code></pre></div>
<p>What just happened?</p>
<p>Well, the shell saw this: <code>!!</code> and performed the substitution that it thought was appropriate. Namely, it substituted <code>!!</code> with the last command I ran, which in this case was <code>sudo apt update</code>. <strong>This is an important concept to keep in mind.</strong> Putting a string in double quotes (<strong>"</strong>) did <em>not</em> prevent the substitution from happening.</p>
<hr />
<h2 id="variables-and-quotes">Variables And Quotes</h2>
<p>Here’s another example of the same thing. We’ve talked a bit about Bash being a programming language, and programming languages make use of <em>variables</em>. We have variables in Bash, and here’s how they work.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="va">school=</span>Seneca  <span class="co"># variable name of school has just been given a value of &quot;Seneca&quot;</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="bu">echo</span> <span class="va">$school</span></a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="ex">Seneca</span></a></code></pre></div>
<p>Finally, the <code>echo</code> command is becoming useful. To assign value to a variable, we use an equal sign (<strong>=</strong>). But to call that variable, we start with a dollar sign (<strong>$</strong>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="va">school=</span>Seneca <span class="ex">College</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="ex">College</span>: command not found</a></code></pre></div>
<p>This throws us an error, because the shell is <em>interpreting</em> the second word ‘College’ as a command. Let’s try again by putting the string in double quotes.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="va">school=</span><span class="st">&quot;Seneca College&quot;</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="bu">echo</span> <span class="st">&quot;I have enrolled at </span><span class="va">$school</span><span class="st">!&quot;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="ex">I</span> have enrolled at Seneca College!</a></code></pre></div>
<p>Double quotes indicate to the shell the boundaries of our string. You can think of them as a <em>weak</em> fence, but also notice how the dollar sign still gets <em>interpreted</em> not as a dollar sign, but something that identifies a variable.</p>
<p>Now let’s use single quotes (<strong>’</strong>).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="bu">echo</span> <span class="st">&#39;I have enrolled at $school !!&#39;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="ex">I</span> have enrolled at <span class="va">$school</span> !!</a></code></pre></div>
<p>Single quotes are a <em>strong</em> barrier. No variable or command substitution is allowed. Everything is very <em>literal</em>: ! are exclamation points, and $ are dollars signs.</p>
<p><strong>Note:</strong> If you only wish to escape <em>one</em> character such as a dollar sign, use the escape character (<strong>\</strong>).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="va">cost=</span>100</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="bu">echo</span> <span class="va">$cost</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="ex">100</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="bu">echo</span> <span class="st">&quot;Wow, I can&#39;t believe this textbook costs </span><span class="dt">\$</span><span class="va">$cost</span><span class="st">.&quot;</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="ex">Wow</span>, I can<span class="st">&#39;t believe this textbook cost $100.</span></a></code></pre></div>
<p>If there is only one golden rule for Bash scripting, it is this: <strong>use quotes</strong>, and use the quotes appropriate for what you want to do.</p>
<hr />
<h2 id="backstory-open-source-software-and-gpl-license">Backstory: Open Source Software and GPL License</h2>
<p>The concept of open source software (or free software) is a very important part of Linux. But what exactly does it mean? I’ll pass along the definition of ‘free software’ from Richard Stallman. Free software follows four freedoms:</p>
<ul>
<li>The freedom to run the program as you wish, for any purpose (freedom 0).</li>
<li>The freedom to study how the program works, and change it so it does your computing as you wish (freedom 1). Access to the source code is a precondition for this.</li>
<li>The freedom to redistribute copies so you can help others (freedom 2).</li>
<li>The freedom to distribute copies of your modified versions to others (freedom 3). By doing this you can give the whole community a chance to benefit from your changes. Access to the source code is a precondition for this.</li>
</ul>
<p>One important distinction you hear made is that free software is “free” as in “free speech”, but not necessarily “free” as in “free beer.” You also get into distinction between ‘free software’ and ‘open source software’, but for the most part we use the two terms interchangeably. Like a lot of things in the Linux world, there’s a lot of politics and backstory if you feel like reading up on it!</p>
<p>What this means is that a lot of the software provided with your version of Linux is free: you can use it without cost, you can read its source code and choose to contribute to the project if you wish. And open source has had a huge impact on how computing has developed. The Internet would look very different (or would still be in its infancy!) if there had never been the LAMP stack, which is all open source.</p>
<ul>
<li>Linux</li>
<li>Apache</li>
<li>MySQL</li>
<li>PHP</li>
</ul>
<hr />
<h2 id="the-gnu-general-public-license">The GNU General Public License</h2>
<p>Let’s say you work on a project that you think might benefit other people, and decide to open source your project. There are several licenses available that you might consider. One of these is the <em>GPL</em>. In a nutshell, under a GPL license (version 3), anyone who modifies your code must also release their modified code under the GPL license. This would prevent, say, a company from taking your code, modifying it a bit, and then making it proprietary.</p>
<p>Software Licensing and ownership is a huge but interesting topic. I encourage you to read about it further.</p>
<hr />
<blockquote>
<h1 id="summary">Summary</h1>
<h2 id="shortcuts">Shortcuts</h2>
<ul>
<li>!!: Repeat last command</li>
<li>&amp;&amp;: Combine two commands; if the first is successful, run the second.</li>
<li>!####: Repeat a command from history</li>
<li>\: Escape character in Bash</li>
<li>"": Weak Quotes. Allows Bash to expand $ and !</li>
<li>’’: Strong Quotes. $ and ! will be taken literally</li>
</ul>
<h2 id="introduction-to-variables-and-quoting">Introduction to Variables and Quoting</h2>
<ul>
<li>To assign a value to a variable: <code>var=value</code></li>
<li>To print the value of a variable: <code>echo $value</code></li>
</ul>
</blockquote>
<hr />
<h2 id="review-for-quiz-1">Review For Quiz 1</h2>
<ul>
<li>define <em>absolute</em>/<em>relative</em>/<em>relative to home</em> filepaths.</li>
</ul>
<p><spoiler>absolute: /home/eric/document. relative: ../document. relative-to-home: ~/document:</spoiler></p>
<ul>
<li>What is <em>redirection</em>?</li>
</ul>
<p><spoiler>Redirection is when you <em>redirect</em> STDOUT or STDERR from your display to another location, like a file. </spoiler></p>
<ul>
<li>you are in ~/cpr/lectures. You want to cp a file called ~/cpr/fall2018/gradebook to ~/Desktop. Do this with relative filepaths.</li>
</ul>
<p><spoiler>cp ../fall2018/gradebook ../../Desktop</spoiler></p>
<ul>
<li>There are reports called ‘report-YYYY-MM.pdf’. Use a find command to list all reports from 2017 and 2018.</li>
</ul>
<p><spoiler>find / -iname report-201[78]*.pdf 2&gt; /dev/null</spoiler></p>
<ul>
<li>how can you delete all hidden files that end with a number?</li>
</ul>
<p><spoiler>rm .*[0-9]</spoiler></p>
</body>
</html>
